---
layout: post
title:  "지수분포"
date:   2022-08-03 12:00:00 +0800
category: blog
tag: blog
comments: true
use_math: true
img:
    path: /assets/img/2022-08-03/sushi.png
---

이 페이지에서는 '지수분포' 에 대해 설명합니다.  
이해하기 위해 꼭 알아둬야 하는 지식:  
- [확률분포]()
- [확률밀도함수, 확률질량함수]()
- [포아송분포]()  


##### 가게에 다음 손님이 올 때까지 걸리는 시간을 알 수 있을까? 

![sushi](/assets/img/2022-08-03/sushi.png)

초밥을 좋아하는 혜리는 이번에 새로 초밥뷔페를 열었습니다. 초밥뷔페는 갓 만든 초밥을 도착하고 바로 집어먹을 수 있어야만 모름지기 좋은 초밥뷔페일 것입니다. 때문에 혜리는 손님이 도착할 시간을 예측해서 그 직전에 초밥을 만들어 두려고 합니다.  

혜리가 첫날동안 손님들을 유심히 관찰한 결과, 한 손님이 오고 다음 손님이 오기까지 걸리는 시간은 평균 10분이었습니다. 그래서 다음날 혜리는 10분에 1인분씩 초밥을 만들기로 합니다.  

그런데 문제가 발생합니다. 어떨 때에는 손님이 너무 몰려서 초밥이 너무 금방 동나버리고, 어떨 때에는 손님이 너무 오지 않아서 미리 만든 초밥이 상해 버립니다. 그렇다면 어제와 손님이 오는 시간이 다른 것일까요?  

평균을 내보면 분명 다음 손님이 오기까지 걸리는 시간은 어제와 동일하게 10분입니다. 그럼 대체 다음 손님이 오기까지의 시간은 어떻게 구하는 것일까요?  

-----



##### 지수분포

손님이 한 명 더 올 때까지 걸리는 시간을 구해보면, 특정한 확률분포를 따르게 됩니다. 이 확률분포가 바로 '지수분포(exponential distribution)' 입니다. 

지수분포의 확률밀도함수를 살펴보면 다음과 같습니다.  

<center>
$$f(x: \lambda) = \lambda e^{-\lambda x},  x>0$$
</center>
여기서 [모수]() $\lambda$ 는 <span style="color:red">손님이 한 명 올 때까지 걸리는 평균 시간의 역수입니다.  </span>
혜리의 초밥뷔페의 경우를 볼까요? 초밥뷔페에서 다음 손님이 오기까지 걸린 평균 시간은 10분(1/6 시간)이었습니다. 그렇다면 혜리의 초밥뷔페에 손님 한 명이 오는데 걸리는 시간은 $\lambda$가 6인 지수분포를 따르는 셈입니다. 이는 Exp(6) 로 표기합니다.

-----



##### 지수분포의 활용

이제 지수분포를 알게 된 혜리는 손님의 도착시간을 확률로 계산하여 좀 더 알맞은 시간에 초밥을 만들 수 있게 되었습니다. 이렇게 고객들의 도착간 시간(inter-arrival time)을 잘 예측할 수 있게 해주는 것이 지수분포의 큰 역할입니다.   

또 이런 경우도 생각해 볼 수 있습니다. 혜리네 초밥뷔페가 널리 알려지면서, 손님들이 이제는 입장하기 위해 줄을 1시간씩 서게 되었습니다. 그렇다면 혜리는 종업원 몇 명을 추가 고용해야 손님들이 줄 서는 시간을 10분 이내로 줄일 수 있을까요? 이러한 문제를 다루는 것이 [대기행렬이론(Queueing Theory)]()입니다. 이 문제를 해결하는 데에도 지수분포가 사용됩니다.   

한편, 고객의 도착간시간 뿐만 아니라 기계 등의 고장간시간 등을 계산하는데도 지수분포가 사용되기도 합니다. 예컨대 고객이 오고 다음 고객이 올 때 까지의 확률을 계산하는 방법이나, 기계가 고장나고 다음번 고장나기까지의 확률을 계산하는 방법이나 비슷하다는 것이죠. 이렇게 기계의 고장간확률을 예측하는 함수를 [신뢰성함수(Reliability Function)]()이라고 합니다.

---



##### 지수분포의 특성

지수분포는 '무기억성' 이라는 특성을 가지고 있습니다. 이 무기억성은 말그대로 이전의 일을 기억하지 못한다는 뜻입니다. 혜리의 초밥뷔페에 12시 이전에 손님이 0명 왔든 100명 왔든 상관 없이, 그 이후 다음 손님이 올 기대시간은 똑같다는 것입니다.  
<div>
<details>
<summary>이에 대한 증명</summary>
<div markdown="1">
</div>
</details>

얼핏 보면 말이 안되나, 각 손님들이 오는 사건은 다른 손님들이 오는 사건과 독립이기 때문에 어느 정도 말이 되기는 합니다. 그러나 이 무기억성이 적용되지 않는 분야에 지수분포를 적용하는 것은 항상 조심해야 합니다.     

### 포아송 분포와의 관계  

지수분포는 다른 확률분포들과도 관계가 많은데, 그 중 포아송 분포와 특히 중요한 관계가 있습니다.  
포아송 분포에 대한 설명은 [여기]()를 참고해주세요.  
포아송 분포는 단위시간동안 평균 $\lambda$의 손님이 도착할 때, 단위시간동안 손님이 총 몇 명 도착할 것인지에 대한 분포를 나타냅니다.  

이 때 당연하게도, 손님이 시간당 평균 $\lambda$ 명 오는 식당에서 다음 손님이 오기까지의 시간은 평균이 $1/\lambda$ 인 지수분포를 따르게 됩니다.  
<details>
<summary>이에 대한 증명</summary>
<div markdown="1">
<span style="color:red">'처음으로 손님이 도착할 때 까지 걸린 시간'</span>을 T라고 가정해봅시다.  
또 이 T보다 이전의 시점을 t라고 가정해봅시다.  

그렇다면 t 시간동안 발생하는 평균 고객 수는 $\lambda t$이며,  
실제 t 시간까지 도착한 고객 수는 0명입니다.  
이를 포아송분포의 확률질량함수로 나타내면  

<center>
$P(X(t)=0) = \frac{e^{-\lambda t}(\lambda t)^{0}}{0!}=e^{-\lambda t}$
</center>

이며,  

<center>
$e^{-\lambda t} = P(T>t)$
</center>

라고 할 수 있습니다.  

따라서  

<center>
$P(T\le t) = 1-e^{-\lambda t}$
</center>

이고, 이를 미분하여 확률질량함수를 얻으면, 손님이 오기까지 시간이 t일 확률은  

<center>
$ P(T=t) = \lambda e^{-\lambda t}$ 
</center>

임을 알 수 있습니다.  
이는 곧 Exp($\lambda$) 인 지수분포입니다.  
</div>>
</details>




